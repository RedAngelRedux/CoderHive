@using CoderHive.Services;
@using CoderHive.Models;
@using X.PagedList;
@using X.PagedList.Mvc.Core;
@using X.PagedList.Web.Common;

@inject IImageService imageService

@model IPagedList<Blog>

@{
    ViewData["Title"] = "Index";
}

<div class="hero overlay inner-page bg-primary py-3">
	<div class="container">
		<div class="row align-items-center justify-content-center text-center pt-3">
			<div class="col-lg-6">
				<h1 class="heading text-white mb-1" data-aos="fade-up">Blogs</h1>
			</div>
		</div>
	</div>
</div>

<section class="section">
	<div class="container">

		<div class="row mb-4">
			<div class="col-sm-6">
				<h2 class="posts-entry-title">To-do:  Filter and Sort Options Will Go Here</h2>
			</div>
			<div class="col-sm-6 text-sm-end"><a asp-controller="Blogs" asp-action="Index" class="read-more">View All</a></div>
		</div>

		<div class="row align-items-stretch retro-layout">
			@foreach(var blog in Model)
			{
			<div class="col-lg-4">
				<div class="card border-0">
						<div class="card-body">
							<a asp-controller="Posts" asp-action="Index" asp-route-id="@blog.Id" class="h-entry mb-30 v-height gradient">
								<div class="featured-img opacity-75" style="background-image: url('@imageService.DecodeImage(blog.ImageData,blog.ImageType)');"></div>

 								<div class="text">
									@* <span class="date">Apr. 14th, 2022</span> *@
									<h2>@blog.Name</h2>
								</div>
 							</a>
							<div class="excerpt">
								<div class="post-meta align-items-center text-left clearfix">
									<figure class="author-figure mb-0 me-3 float-start"><img src="images/person_1.jpg" alt="Image" class="img-fluid"></figure>
									<span class="d-inline-block mt-1">By <a href="#">@blog.Author.FullName</a></span>
									<span>&nbsp;-&nbsp; @blog.Created.ToString("MM dd, yyy")</span>
								</div>
							</div>
							<div class="card-text text-black">@blog.Description</div>
						</div>
					</div>
				</div>
			}
		</div>

        <!-- Add Paging Controls Here -->
		<div class="row text-start pt-5 border-top">
			<div class="col-md-12">
				<div class="custom-pagination">
                    @Html.PagedListPager(Model, page => Url.Action("Index",new { page = page}));
                </div>
			</div>
		</div>
	</div>
</section>


















































@* @using CoderHive.Services;
@using CoderHive.Models;
@using X.PagedList;
@using X.PagedList.Mvc.Core;
@using X.PagedList.Web.Common;

@inject IImageService imageService

@model IPagedList<Blog>

@{
    ViewData["Title"] = "Index";
}

<div class="hero overlay inner-page bg-primary py-3">
	<div class="container">
		<div class="row align-items-center justify-content-center text-center pt-3">
			<div class="col-lg-6">
				<h1 class="heading text-white mb-1" data-aos="fade-up">Blogs</h1>
			</div>
		</div>
	</div>
</div>

<section class="section">
	<div class="container">

		<div class="row mb-4">
			<div class="col-sm-6">
				<h2 class="posts-entry-title">To-do:  Filter and Sort Options Will Go Here</h2>
			</div>
			<div class="col-sm-6 text-sm-end"><a asp-controller="Blogs" asp-action="Index" class="read-more">View All</a></div>
		</div>

		<div class="row">
			@foreach(var blog in Model) 
			{
			<div class="col-sm-12 col-md-6 col-lg-4 mb-4">
				<div class="post-entry-alt">
                        <div class="img">
                            <a asp-controller="Posts" asp-action="Index" asp-route-id="@blog.Id" class="img-link">
                                <img src="@imageService.DecodeImage(blog.ImageData,blog.ImageType)" alt="Image" class="img-fluid">
                            </a>
                        </div>
					<div class="excerpt">
						<h2><a asp-controller="Posts" asp-action="Index" asp-route-id="@blog.Id">@blog.Name</a></h2>
						<div class="post-meta align-items-center text-left clearfix">
							<figure class="author-figure mb-0 me-3 float-start"><img src="images/person_1.jpg" alt="Image" class="img-fluid"></figure>
							<span class="d-inline-block mt-1">By <a href="#">@blog.Author.FullName</a></span>
							<span>&nbsp;-&nbsp; @blog.Created.ToString("MM dd, yyy")</span>
						</div>
						<p>@blog.Description</p>
						<p><a asp-controller="Posts" asp-action="Index" asp-route-id="@blog.Id" class="read-more">Go To Blog</a></p>
					</div>
				</div>
			</div>
			}
		</div>

        <!-- Add Paging Controls Here -->
		<div class="row text-start pt-5 border-top">
			<div class="col-md-12">
				<div class="custom-pagination"> 					
                    @Html.PagedListPager(Model, page => Url.Action("Index",new { page = page}));
                </div>
			</div>
		</div>
	</div>
</section>
 *@